(function(r,s,i){"use strict";const l=s.findByProps("renderMessageMarkupToAST");function p(){const f=i.after("renderMessageMarkupToAST",l,function(g,c){const a=function(h,y){const e=[],n=[];for(const t of h.content){let o=t.type==="emoji"?{type:"text",content:t.surrogate}:t;Array.isArray(t.content)&&(o.content=a(t,!0)),(t.type==="emoji"||t.type==="customEmoji"||t.type==="text"&&t.content?.match(/^\s*$/))&&t.jumboable&&!y?t.type!=="text"&&(delete o.jumboable,e.push(o)):(e.length>0&&n.push({type:"heading",level:1,content:e}),e.length=0,n.push(o))}return e.length>0&&n.push({type:"heading",level:1,content:e}),n};c.content=a(c,!1)});return function(){return f()}}let u;var d={onLoad:function(){return u=p()},onUnload:function(){return u()}};return r.default=d,Object.defineProperty(r,"__esModule",{value:!0}),r})({},vendetta.metro,vendetta.patcher);
